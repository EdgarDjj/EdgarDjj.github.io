# Linux基本指令


# Linux基本指令

**yum**



yum repolist all 列出所有仓库

yum list all 列出仓库所有软件包

yum clean all 清除所有仓库缓存

yum gourplist



**systemctl**初始化进程



管理服务的启动、重启、停止、重载、查看状态

start\ restart\ stop\ reload status



设置服务的开机启动、不启动、查看各级别下服务启动状态等

enable\ disable\ is-enable\ list-unitfiles --type=service



**shell**

LVM (Logical Volume Manager)逻辑卷管理工具 图形化



shell充当人与内核之间的翻译

许多主流Linux系统默认的终端是Bash（Bourne-Again Shell）解释器





查看帮助man





常用指令



**echo**

终端上输入字符串或变量提取后的值



**date**

显示系统时间

按照”年-月-日 时：分：秒“的格式查看

[root@VM-0-15-centos ~]# date "+%Y-%m-%d %H:%M:%S"

2020-11-23 19:02:48





date “+%j” 查看今天是当年的第几天





**reboot**用于重启系统

**poweroff**用于关机



**wget**

用于终端中下载网络文件

-r 递归下载

-p 指定目录



**ps**

查看系统中进程状态

ps -aux

-a 显示所有进程

-u 用户及其他详细信息

-x 显示没有控制的终端进程

| USER       | PID      | %CPU | %MEM | VSZ                | RSS                    | TTY      | STAT     | START        | TIME              | COMMAND        |
| ---------- | -------- | ---- | ---- | ------------------ | ---------------------- | -------- | -------- | ------------ | ----------------- | -------------- |
| 进程所有者 | 进程id号 |      |      | 虚拟内存占用（KB） | 占用的固定内存量（KB） | 所在终端 | 进程状态 | 被启动的时间 | 实际使用CPU的时间 | 命令名称与参数 |





**Linux**的五种常见进程状态

R（运行）

S（中断）进程处于休眠中，若某个条件形成后或者接收到信号时，则脱离该状态

D（不可中断）进程不响应系统异步信号，即便使用kill命令也无法将其中断

Z（僵死）进程已经终止，但进程描述符依然存在，直到父进程调用wait4（）系统函数将进程释放

T（停止）进程收到停止信号后停止运行



**top**

用于动态监视进程活动与系统负载信息等

![截屏2020-11-23 下午7.13.10.png](blob:file:///bb30a756-8006-450c-ad30-3e4b518418c1)

第一行：系统时间、运行时间、登录终端数、系统负载（1分钟、5分钟、15分钟的平均值，越小说明负载越低）

第二行：进程总数、。。。

第三行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源白百分比等

第四行：物理内存总量、空闲内存量、内存使用量、作为内核缓存的内存量

第五行：虚拟内存总量、虚拟内存空闲量、虚拟内存使用量、已被提前加载的内存量



**pidof**

用于查询某个指定服务进程的PID值，pidof [参数] [服务名称]



**kill**

终止指定PID服务 kill [参数] [服务名称]



**killall**

终止某个指定名称的服务对应的全部进程 killall [参数] [服务名称]





系统状态检测

**ifconfig**

获取网卡配置与网络状态信息







**uname**

用于查看系统内核与系统版本信息 uname [-a]

系统的内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型、以及操作系统名称等信息

![截屏2020-11-23 下午7.22.00.png](blob:file:///785cfdf0-090c-4e0f-939e-d7d6d8c5c492)





**uptime**

查看系统的负载信息，uptime

它可以显示当前系统时间、系统已运行时间、启用终端数量以及平均负载值等信息



**free**

查看系统当前内存的使用信息

free -h 更人性化显示（显示单位）



**who**

查看当前登入主机的用户终端信息



**last**

查看系统所有的登录信息，以日志文件保存（无法判断黑客是否进入）

查看本机的登录记录。



**history**

用于显示历史执行过的命令（可以显示1000条，可在/etc/profile文件HISTSIZE变量中修改）

-c 清空所有命令历史记录

历史命令会保存在.bash_history文件中



**sosreport**

用于收集系统配置及架构信息并输出诊断文档，格式为sosreport

系统出现故障的时候一般第一时间进行诊断收集的命令

红线部分为收集好的资料压缩以及校验码



工作目录切换命令



**pwd**

用于显示用户当前所处的工作目录



**cd**

切换工作路径



**ls**

显示目录中的文件信息

-a 显示全部（包括隐藏）

-l 查看文件属性、大小等详细信息





文本文件编辑命令



**cat**

查看纯文本内容（内容少）

-h 查看文本顺便显示行号



**more**

查看纯文本文件（内容多）

空格/回车向下翻页



**head**

查看纯文本的前N行

前20行



**tail**

与head相反从后往前，后N行(最厉害的地方在于可持续刷新一个文件的内容，可以实时查看最新的日志文件）

若想看到最新的日志文件，tail -f 





**tr**

替换文本中的字符 tr [原始字符] [目标字符]

进行文本的大量替换可以进行使用

使用cat 读取待处理的文本，通过管道符把这些文本内容传递给tr命令进行替换

例如替换某个文件的大小写

cat xxx.txt | tr [a-z] [A-Z]



**wc**

用于统计文本的行数、字数、字节数

-l 只显示行数

-w 只显示单词数

-c 只显示字节数

![截屏2020-11-23 下午7.44.26.png](blob:file:///eef6c48c-29c6-456e-98ad-8de91e097377)



**stat**

用于查看文件的具体存储信息和时间等信息



**cut**

用于按”列“提取文本字符

例如尝试提取出passwd文件中用户名信息

-f 设置需要看的列数

-d 设置间隔符号




**diff**

用于比较多个文本之间的差异

—breif 用于确认两个文件是否不同

-c 描述文件具体的不同



文件目录管理命令



**touch**

用于创建空白文件或设置文件的时间

-a 仅修改“读取时间”（atime）

-m 仅修改“修改时间”（mtime）

-d 同时进行修改

黑客可用来将修改过的时间修改回去



**mkdir**

创建一个空白目录

-p 创建一个层次目录

mkdir -p a/b/c



**cp**

复制文件或目录

-p 保留原始文件属性

-d 若对象为“链接文件”，则保留该文件属性

-r 递归复制（用于目录）

-i 若目标文件存在询问是否覆盖

-a 相当于-pdr结合



**mv**

用于剪贴文件或文件重命名

若同一目录中对一文件进行mv操作，其实也就是进行重命名



**rm**

删除文件或目录

rm -rf

-r 递归

-f 强制



**dd**

按照指定的大小和个数的数据块来复制文件或转换文件

if 输入的文件名称

of 输出的文件名称

bs 设置每个“块”的大小

count 设置要复制的“块”的个数

dd可以压制出光盘文件，将它变成一个可立即使用的iso镜像



**file**

查看文件类型，因为目录、文本、设备等等统称文件，但无法凭后缀就知道其文件类型



打包压缩与搜索



**tar**

- c创建压缩文件
- x解开压缩文件
- t查看压缩包有哪些文件
- z使用Gzip格式压缩或解压
- j使用bzip2格式压缩或解压
- v显示压缩或解压过程
- f目标文件名
- p保留原始文件的权限与属性
- P使用绝对路径
- C指定解压到的目录

常用

-czvf打包压缩（f很重要尽量放在最后一位，代表要压缩或解压的软件包名称）

-xzvf解压(.tar.gz文件）



**grep**

用于文本中执行关键词搜索

-b 将可执行文件（binary）当做文本文件（text）来搜索

-c 仅显示要找的行数

-i 忽略大小写

**-n** 显示行号

**-v** 反选

/etc/passwd文件保存着所有用户的信息，而一旦用户的登录终端被设置成/sbin/nologin则不再被允许的登录






**find**

按照指定条件查找文件

-exec 这个参数把find搜索到结果紧随其后的命令做进一步处理

